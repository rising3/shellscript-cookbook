---
title: レシピ1-1 Hello,world
---

import { Code } from '@astrojs/starlight/components';
import importedCode from '/samples/01/01_hello_world.sh?raw';

みんな大好き bash 版のhello, world。

<Code code={importedCode} lang="bash" title="/samples/01/01_hello_world.sh" />

次のコマンドで実行できる。

```bash
samples/01 » bash 01_hello_world.sh
Hello,world
```

ファイルに実行権限を付けることでシェルスクリプトを直接実行できる。

```bash
samples/01 » chmod +x 01_hello_world.sh
samples/01 » ./01_hello_world.sh
Hello,world
```
:::note[シェルスクリプトのファイルの拡張子]
紹介した Google Shell Style Guide には、ファイルの拡張子について書かれている。
- 実行可能ファイルは、拡張子なし (強く推奨) もしくは .sh とすべきである
  - 実行時はプログラムがどの言語で書かれているかを知る必要がなく、シェルは拡張子を要求しないため、実行可能ファイルには拡張子を付けない方が好ましい
- ライブラリは必ず .sh としなければならない、また実行可能であってはならない
:::

シェルスクリプトの1行目の `#!/bin/bash` は、shebang(シバンまたはシェバン)と呼ばれ、UNIXスクリプトの `#!` から始まる1行目のことである。
shebangで起動してスクリプトを読み込むインタプリタを明示することができる。

つまり、１行目に `#!/bin/bash`と書くことでそのファイルをbashコマンドで実行することを明示している。
shebangで指定するコマンドは実行可能なバイナリである必要があるが、この方法はインタプリタであれば応用は可能である。
例えば、次のように書くことでrubyのスクリプトを実行することができる。

```ruby
#!/usr/bin/env ruby

puts 'hello, world'
```
`env`を介してPATHからrubyコマンドを検出し、rubyスクリプトを実行している。`env`を用いたトリックはPATH環境変数に依存する。

:::tip[envのトリック的用法]
shebangは、通常はインタプリタのフルパスを与える必要がある。
しかし、Unix系OSでは、標準のプログラムを/usr/binに、管理者が独自に追加したプログラムを/usr/local/binに置いて区別して管理するといった理由などから、インタプリタのフルパスがシステムにより異なる場合がある。
そのため、インタプリタのフルパスを直接に記述すると、そのシェルスクリプトは汎用性が低くなる（他のシステムでは動かない可能性がある）。
インタプリタ自体があらかじめPATH環境変数で指定されているディレクトリに配置してあるを前提に、フルパスではなく単なるコマンド名を記述してenvに実行させれば、汎用性を保つことができる。

ただし、このトリック的用法にも問題はあり、PATH環境変数からコマンドを検出して実行するため、PATH環境変数の設定次第では同名の異なるコマンドを図せず実行される危険もある。
:::
